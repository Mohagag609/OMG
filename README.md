# 🏛️ نظام إدارة الاستثمارات العقارية

نظام شامل لإدارة الاستثمارات العقارية مبني بـ Next.js مع قاعدة بيانات Prisma ونظام مراقبة متقدم.

## ✨ المميزات الرئيسية

### 🏢 إدارة شاملة
- **العملاء**: إدارة بيانات العملاء والاتصالات
- **الوحدات**: تتبع الوحدات العقارية وحالتها
- **العقود**: إدارة عقود الإيجار والبيع
- **الشركاء**: تتبع الشركاء ومجموعاتهم
- **السماسرة**: إدارة السماسرة وعمولاتهم
- **الأقساط**: تتبع الأقساط والمدفوعات
- **السندات**: إدارة سندات القبض والصرف
- **الخزينة**: مراقبة التدفقات النقدية

### 🔐 الأمان والحماية
- نظام مصادقة JWT متقدم
- تشفير كلمات المرور
- حماية من SQL Injection
- سجل تدقيق شامل
- نظام صلاحيات متدرج

### 📊 التقارير والمراقبة
- لوحة تحكم تفاعلية
- تقارير مالية مفصلة
- نظام تنبيهات ذكي
- نسخ احتياطية تلقائية
- مراقبة الأداء والصحة

### 🎨 واجهة المستخدم
- تصميم عصري ومتجاوب
- دعم كامل للغة العربية (RTL)
- ثيمات داكنة وفاتحة
- بحث متقدم وفلترة
- تصدير البيانات (CSV/Excel)

## 🚀 البدء السريع

### المتطلبات
- Node.js 18+ 
- npm أو yarn
- قاعدة بيانات SQLite (مدمجة)

### التثبيت

```bash
# استنساخ المشروع
git clone <repository-url>
cd estate-management-nextjs

# تثبيت التبعيات
npm install

# إعداد قاعدة البيانات
npm run db:push
npm run db:seed

# تشغيل المشروع
npm run dev
```

### بيانات الدخول الافتراضية
- **مدير**: `admin` / `admin123`
- **مستخدم**: `user` / `user123`

## 📁 هيكل المشروع

```
estate-management-nextjs/
├── src/
│   ├── app/                 # صفحات Next.js
│   │   ├── api/            # API Routes
│   │   ├── customers/      # صفحة العملاء
│   │   ├── units/          # صفحة الوحدات
│   │   ├── contracts/      # صفحة العقود
│   │   └── ...
│   ├── components/         # مكونات React
│   ├── lib/               # مكتبات مساعدة
│   ├── utils/             # أدوات مساعدة
│   ├── types/             # أنواع TypeScript
│   └── constants/         # الثوابت
├── prisma/
│   ├── schema.prisma      # مخطط قاعدة البيانات
│   └── seed.ts           # بيانات البداية
├── config/               # ملفات التكوين
├── scripts/              # سكريبتات مساعدة
├── tests/               # الاختبارات
└── docs/                # الوثائق
```

## 🛠️ الأوامر المتاحة

```bash
# التطوير
npm run dev              # تشغيل في وضع التطوير
npm run build            # بناء المشروع للإنتاج
npm run start            # تشغيل في وضع الإنتاج

# قاعدة البيانات
npm run db:generate      # توليد Prisma Client
npm run db:push          # تطبيق التغييرات على قاعدة البيانات
npm run db:studio        # فتح Prisma Studio
npm run db:reset         # إعادة تعيين قاعدة البيانات
npm run db:seed          # إدراج البيانات التجريبية

# الاختبارات
npm run test             # تشغيل الاختبارات
npm run test:watch       # تشغيل الاختبارات في وضع المراقبة

# النسخ الاحتياطية
npm run backup:create    # إنشاء نسخة احتياطية
npm run backup:restore   # استعادة نسخة احتياطية

# النشر
npm run deploy:vercel    # النشر على Vercel
npm run deploy:netlify   # النشر على Netlify
```

## 🔧 التكوين

### متغيرات البيئة
أنشئ ملف `.env.local`:

```env
DATABASE_URL="file:./dev.db"
JWT_SECRET="your-secret-key"
NEXTAUTH_URL="http://localhost:3000"
```

### إعدادات قاعدة البيانات
يمكن تخصيص إعدادات قاعدة البيانات في `config/database-config.json`.

## 📊 قاعدة البيانات

المشروع يستخدم Prisma مع SQLite، ويتضمن:

- **15+ جدول** لإدارة جميع جوانب الاستثمار العقاري
- **فهارس محسنة** للبحث السريع
- **علاقات معقدة** بين الكيانات
- **نظام Soft Delete** للحذف الآمن
- **سجل تدقيق** شامل

## 🧪 الاختبارات

```bash
# تشغيل جميع الاختبارات
npm run test

# تشغيل اختبارات محددة
npm run test -- --testNamePattern="API"

# تغطية الاختبارات
npm run test -- --coverage
```

## 🚀 النشر

### Vercel (مستحسن)
```bash
npm run deploy:vercel
```

### Netlify
```bash
npm run deploy:netlify
```

### خوادم أخرى
المشروع متوافق مع:
- Railway
- Render
- DigitalOcean
- أي خادم يدعم Node.js

## 🤝 المساهمة

1. Fork المشروع
2. إنشاء فرع للميزة الجديدة (`git checkout -b feature/amazing-feature`)
3. Commit التغييرات (`git commit -m 'Add amazing feature'`)
4. Push للفرع (`git push origin feature/amazing-feature`)
5. فتح Pull Request

## 📝 الترخيص

هذا المشروع مرخص تحت رخصة MIT - راجع ملف [LICENSE](LICENSE) للتفاصيل.

## 📞 الدعم

للحصول على الدعم أو الإبلاغ عن مشاكل:
- فتح Issue في GitHub
- مراسلة فريق التطوير

## 🎯 خارطة الطريق

- [ ] تطبيق موبايل
- [ ] API عامة
- [ ] تكامل مع أنظمة الدفع
- [ ] ذكاء اصطناعي للتنبؤات
- [ ] تقارير متقدمة

---

**تم تطويره بـ ❤️ لخدمة قطاع العقارات**