# مدير الاستثمار العقاري

تطبيق Next.js لإدارة الاستثمارات العقارية مع نظام شامل للمراقبة والنسخ الاحتياطية.

## 🚀 البدء السريع

### 1. تثبيت التبعيات
```bash
npm install
```

### 2. إعداد قاعدة البيانات
```bash
npm run setup
```

### 3. تشغيل المشروع
```bash
npm run dev
```

## 📊 قاعدة البيانات

### SQLite (افتراضي)
- قاعدة بيانات محلية سريعة ومناسبة للتطوير
- لا يتطلب إعداد إضافي
- يعمل مباشرة مع Node.js

### PostgreSQL (للإنتاج)
- قاعدة بيانات قوية للاستخدام في الإنتاج
- يتطلب إعداد خادم PostgreSQL
- أداء عالي مع البيانات الكبيرة

## 🔧 الأوامر المتاحة

### التطوير
```bash
npm run dev          # تشغيل خادم التطوير
npm run build        # بناء المشروع للإنتاج
npm run start        # تشغيل خادم الإنتاج
```

### قاعدة البيانات
```bash
npm run db:setup     # إعداد قاعدة البيانات
npm run db:push      # تطبيق المخطط على قاعدة البيانات
npm run db:seed      # إدراج البيانات التجريبية
npm run db:test      # اختبار الاتصال بقاعدة البيانات
npm run db:studio    # فتح Prisma Studio
npm run setup        # إعداد كامل (setup + users + seed)
```

### الاختبار
```bash
npm run test         # تشغيل الاختبارات
npm run test:watch   # تشغيل الاختبارات في وضع المراقبة
```

## 👤 بيانات الدخول الافتراضية

- **المدير**: `admin` / `admin123`
- **المستخدم العادي**: `user` / `user123`

## 🌐 النشر

### Netlify
```bash
npm run build
```

### Vercel
```bash
npm run build
```

## 📁 هيكل المشروع

```
src/
├── app/                 # صفحات Next.js
├── components/          # مكونات React
├── lib/                 # مكتبات مساعدة
│   ├── auth.ts         # نظام المصادقة
│   ├── database.ts     # اتصال قاعدة البيانات
│   └── db.ts           # مساعدات قاعدة البيانات
├── types/              # تعريفات TypeScript
└── utils/              # أدوات مساعدة

prisma/
├── schema.prisma       # مخطط قاعدة البيانات
└── seed.ts            # بيانات تجريبية

scripts/
├── setup-db.js        # إعداد قاعدة البيانات
├── create-users.js    # إنشاء المستخدمين
└── test-database.js   # اختبار قاعدة البيانات
```

## 🔒 الأمان

- تشفير كلمات المرور باستخدام bcrypt
- JWT tokens للمصادقة
- حماية API endpoints
- التحقق من الصلاحيات

## 📝 الميزات

- ✅ نظام مصادقة كامل
- ✅ إدارة العملاء
- ✅ إدارة الوحدات
- ✅ إدارة العقود
- ✅ إدارة الأقساط
- ✅ إدارة الخزائن
- ✅ إدارة الوسطاء
- ✅ إدارة الشركاء
- ✅ تقارير شاملة
- ✅ واجهة مستخدم عربية

## 🛠️ التطوير

### إضافة ميزة جديدة
1. إنشاء المكون في `src/components/`
2. إضافة الصفحة في `src/app/`
3. تحديث API في `src/app/api/`
4. إضافة النوع في `src/types/`

### إضافة جدول جديد
1. تحديث `prisma/schema.prisma`
2. تشغيل `npm run db:push`
3. تحديث `prisma/seed.ts`
4. تشغيل `npm run db:seed`

## 📞 الدعم

إذا واجهت مشاكل:
1. تحقق من ملف `.env`
2. جرب `npm run db:test`
3. راجع سجلات الأخطاء
4. تأكد من إصدارات البرامج المطلوبة

## 📄 الترخيص

هذا المشروع مرخص تحت رخصة MIT.